<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>
<body>
    <div id="root"></div>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    

    <script>
        const schools = [
            {
                name: "laligurans",
                location: "narephant",
                id: 1
            },
            {
                name: "LA",
                location: "satdobato",
                id: 2   
            },
            {
                name: "LA",
                location: "satdobato",
  
            },
            
        ];

        const studentReports = {
            1: [{
                name: "nikesh",
                percentage: "20"
            }],
            2: [{
                name: "test",
                percentage: "40"
            }]
        }
    </script>


     <script>
        const root = document.querySelector('#root');
        const table = document.createElement('table');
        table.border = 1;

        // query, params

        const url = new URLSearchParams(location.search)
        const isReportPage = url.get('id');

        if(isReportPage){
            const reports = studentReports[isReportPage]
            const rows = reports.map(({name, percentage}) => {
                return `<tr>
                    <td>
                        ${name}
                    </td>
                    <td>
                      ${percentage} 
                    </td>
                </tr>`
            })


            table.innerHTML = `
                <thead>
                    <th>Name</th>
                    <th>percentage</th>
                </thead>
                <tbody>
                    ${reports.map(({name, percentage}) => {
                return `<tr>
                    <td>
                        ${name}
                    </td>
                    <td>
                      ${percentage} 
                    </td>
                </tr>`
            }),join()}
                </tbody>
            `


            root.appendChild(table)
        }else{
            const rows = schools.map(({name, id}) => {
                return `<tr>
                    <td>
                        ${name}
                    </td>
                    <td>
                        <a href="/Telwin/day1.html?id=${id}">View reports</a>
                    </td>
                </tr>`
            })


            table.innerHTML = `
                <thead>
                    <th>Name</th>
                    <th>Action</th>
                </thead>
                <tbody>
                    ${rows.join("")}
                </tbody>
            `


            root.appendChild(table)
        }

    </script>
</body>
</html>